{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar _reactNativeMaps = _interopRequireWildcard(require(\"react-native-maps\"));\n\nvar _reactNativeMapsDirections = _interopRequireDefault(require(\"react-native-maps-directions\"));\n\nvar _constants = require(\"../constants\");\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\Imraj\\\\Desktop\\\\LCRN08-food-delivery-app-master\\\\LCRN08-food-delivery-app-master\\\\screens\\\\OrderDelivery.js\";\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar OrderDelivery = function OrderDelivery(_ref) {\n  var route = _ref.route,\n      navigation = _ref.navigation;\n\n  var mapView = _react.default.useRef();\n\n  var _React$useState = _react.default.useState(null),\n      _React$useState2 = (0, _slicedToArray2.default)(_React$useState, 2),\n      restaurant = _React$useState2[0],\n      setRestaurant = _React$useState2[1];\n\n  var _React$useState3 = _react.default.useState(\"\"),\n      _React$useState4 = (0, _slicedToArray2.default)(_React$useState3, 2),\n      streetName = _React$useState4[0],\n      setStreetName = _React$useState4[1];\n\n  var _React$useState5 = _react.default.useState(null),\n      _React$useState6 = (0, _slicedToArray2.default)(_React$useState5, 2),\n      fromLocation = _React$useState6[0],\n      setFromLocation = _React$useState6[1];\n\n  var _React$useState7 = _react.default.useState(null),\n      _React$useState8 = (0, _slicedToArray2.default)(_React$useState7, 2),\n      toLocation = _React$useState8[0],\n      setToLocation = _React$useState8[1];\n\n  var _React$useState9 = _react.default.useState(null),\n      _React$useState10 = (0, _slicedToArray2.default)(_React$useState9, 2),\n      region = _React$useState10[0],\n      setRegion = _React$useState10[1];\n\n  var _React$useState11 = _react.default.useState(0),\n      _React$useState12 = (0, _slicedToArray2.default)(_React$useState11, 2),\n      duration = _React$useState12[0],\n      setDuration = _React$useState12[1];\n\n  var _React$useState13 = _react.default.useState(false),\n      _React$useState14 = (0, _slicedToArray2.default)(_React$useState13, 2),\n      isReady = _React$useState14[0],\n      setIsReady = _React$useState14[1];\n\n  var _React$useState15 = _react.default.useState(0),\n      _React$useState16 = (0, _slicedToArray2.default)(_React$useState15, 2),\n      angle = _React$useState16[0],\n      setAngle = _React$useState16[1];\n\n  _react.default.useEffect(function () {\n    var _route$params = route.params,\n        restaurant = _route$params.restaurant,\n        currentLocation = _route$params.currentLocation;\n    var fromLoc = currentLocation.gps;\n    var toLoc = restaurant.location;\n    var street = currentLocation.streetName;\n    var mapRegion = {\n      latitude: (fromLoc.latitude + toLoc.latitude) / 2,\n      longitude: (fromLoc.longitude + toLoc.longitude) / 2,\n      latitudeDelta: Math.abs(fromLoc.latitude - toLoc.latitude) * 2,\n      longitudeDelta: Math.abs(fromLoc.longitude - toLoc.longitude) * 2\n    };\n    setRestaurant(restaurant);\n    setStreetName(street);\n    setFromLocation(fromLoc);\n    setToLocation(toLoc);\n    setRegion(mapRegion);\n  }, []);\n\n  function calculateAngle(coordinates) {\n    var startLat = coordinates[0][\"latitude\"];\n    var startLng = coordinates[0][\"longitude\"];\n    var endLat = coordinates[1][\"latitude\"];\n    var endLng = coordinates[1][\"longitude\"];\n    var dx = endLat - startLat;\n    var dy = endLng - startLng;\n    return Math.atan2(dy, dx) * 180 / Math.PI;\n  }\n\n  function zoomIn() {\n    var newRegion = {\n      latitude: region.latitude,\n      longitude: region.longitude,\n      latitudeDelta: region.latitudeDelta / 2,\n      longitudeDelta: region.longitudeDelta / 2\n    };\n    setRegion(newRegion);\n    mapView.current.animateToRegion(newRegion, 200);\n  }\n\n  function zoomOut() {\n    var newRegion = {\n      latitude: region.latitude,\n      longitude: region.longitude,\n      latitudeDelta: region.latitudeDelta * 2,\n      longitudeDelta: region.longitudeDelta * 2\n    };\n    setRegion(newRegion);\n    mapView.current.animateToRegion(newRegion, 200);\n  }\n\n  function renderMap() {\n    var _this2 = this;\n\n    var destinationMarker = function destinationMarker() {\n      return _react.default.createElement(_reactNativeMaps.Marker, {\n        coordinate: toLocation,\n        __self: _this2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 13\n        }\n      }, _react.default.createElement(_reactNative.View, {\n        style: {\n          height: 40,\n          width: 40,\n          borderRadius: 20,\n          alignItems: 'center',\n          justifyContent: 'center',\n          backgroundColor: _constants.COLORS.white\n        },\n        __self: _this2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 17\n        }\n      }, _react.default.createElement(_reactNative.View, {\n        style: {\n          height: 30,\n          width: 30,\n          borderRadius: 15,\n          alignItems: 'center',\n          justifyContent: 'center',\n          backgroundColor: _constants.COLORS.primary\n        },\n        __self: _this2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 21\n        }\n      }, _react.default.createElement(_reactNative.Image, {\n        source: _constants.icons.pin,\n        style: {\n          width: 25,\n          height: 25,\n          tintColor: _constants.COLORS.white\n        },\n        __self: _this2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 25\n        }\n      }))));\n    };\n\n    var carIcon = function carIcon() {\n      return _react.default.createElement(_reactNativeMaps.Marker, {\n        coordinate: fromLocation,\n        anchor: {\n          x: 0.5,\n          y: 0.5\n        },\n        flat: true,\n        rotation: angle,\n        __self: _this2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 13\n        }\n      }, _react.default.createElement(_reactNative.Image, {\n        source: _constants.icons.car,\n        style: {\n          width: 40,\n          height: 40\n        },\n        __self: _this2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 17\n        }\n      }));\n    };\n\n    return _react.default.createElement(_reactNative.View, {\n      style: {\n        flex: 1\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 13\n      }\n    }, _react.default.createElement(_reactNativeMaps.default, {\n      ref: mapView,\n      provider: _reactNativeMaps.PROVIDER_GOOGLE,\n      initialRegion: region,\n      style: {\n        flex: 1\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 17\n      }\n    }, _react.default.createElement(_reactNativeMapsDirections.default, {\n      origin: fromLocation,\n      destination: toLocation,\n      apikey: _constants.GOOGLE_API_KEY,\n      strokeWidth: 5,\n      strokeColor: _constants.COLORS.primary,\n      optimizeWaypoints: true,\n      onReady: function onReady(result) {\n        setDuration(result.duration);\n\n        if (!isReady) {\n          mapView.current.fitToCoordinates(result.coordinates, {\n            edgePadding: {\n              right: _constants.SIZES.width / 20,\n              bottom: _constants.SIZES.height / 4,\n              left: _constants.SIZES.width / 20,\n              top: _constants.SIZES.height / 8\n            }\n          });\n          var nextLoc = {\n            latitude: result.coordinates[0][\"latitude\"],\n            longitude: result.coordinates[0][\"longitude\"]\n          };\n\n          if (result.coordinates.length >= 2) {\n            var _angle = calculateAngle(result.coordinates);\n\n            setAngle(_angle);\n          }\n\n          setFromLocation(nextLoc);\n          setIsReady(true);\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 21\n      }\n    }), destinationMarker(), carIcon()));\n  }\n\n  function renderDestinationHeader() {\n    return _react.default.createElement(_reactNative.View, {\n      style: {\n        position: 'absolute',\n        top: 50,\n        left: 0,\n        right: 0,\n        height: 50,\n        alignItems: 'center',\n        justifyContent: 'center'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 13\n      }\n    }, _react.default.createElement(_reactNative.View, {\n      style: {\n        flexDirection: 'row',\n        alignItems: 'center',\n        width: _constants.SIZES.width * 0.9,\n        paddingVertical: _constants.SIZES.padding,\n        paddingHorizontal: _constants.SIZES.padding * 2,\n        borderRadius: _constants.SIZES.radius,\n        backgroundColor: _constants.COLORS.white\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 17\n      }\n    }, _react.default.createElement(_reactNative.Image, {\n      source: _constants.icons.red_pin,\n      style: {\n        width: 30,\n        height: 30,\n        marginRight: _constants.SIZES.padding\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 21\n      }\n    }), _react.default.createElement(_reactNative.View, {\n      style: {\n        flex: 1\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 21\n      }\n    }, _react.default.createElement(_reactNative.Text, {\n      style: _objectSpread({}, _constants.FONTS.body3),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 25\n      }\n    }, streetName)), _react.default.createElement(_reactNative.Text, {\n      style: _objectSpread({}, _constants.FONTS.body3),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 21\n      }\n    }, Math.ceil(duration), \" mins\")));\n  }\n\n  function renderDeliveryInfo() {\n    return _react.default.createElement(_reactNative.View, {\n      style: {\n        position: 'absolute',\n        bottom: 50,\n        left: 0,\n        right: 0,\n        alignItems: 'center',\n        justifyContent: 'center'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 13\n      }\n    }, _react.default.createElement(_reactNative.View, {\n      style: {\n        width: _constants.SIZES.width * 0.9,\n        paddingVertical: _constants.SIZES.padding * 3,\n        paddingHorizontal: _constants.SIZES.padding * 2,\n        borderRadius: _constants.SIZES.radius,\n        backgroundColor: _constants.COLORS.white\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 17\n      }\n    }, _react.default.createElement(_reactNative.View, {\n      style: {\n        flexDirection: 'row',\n        alignItems: 'center'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 21\n      }\n    }, _react.default.createElement(_reactNative.Image, {\n      source: restaurant == null ? void 0 : restaurant.courier.avatar,\n      style: {\n        width: 50,\n        height: 50,\n        borderRadius: 25\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 25\n      }\n    }), _react.default.createElement(_reactNative.View, {\n      style: {\n        flex: 1,\n        marginLeft: _constants.SIZES.padding\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 25\n      }\n    }, _react.default.createElement(_reactNative.View, {\n      style: {\n        flexDirection: 'row',\n        justifyContent: 'space-between'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 29\n      }\n    }, _react.default.createElement(_reactNative.Text, {\n      style: _objectSpread({}, _constants.FONTS.h4),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 33\n      }\n    }, restaurant == null ? void 0 : restaurant.courier.name), _react.default.createElement(_reactNative.View, {\n      style: {\n        flexDirection: 'row'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 33\n      }\n    }, _react.default.createElement(_reactNative.Image, {\n      source: _constants.icons.star,\n      style: {\n        width: 18,\n        height: 18,\n        tintColor: _constants.COLORS.primary,\n        marginRight: _constants.SIZES.padding\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 37\n      }\n    }), _react.default.createElement(_reactNative.Text, {\n      style: _objectSpread({}, _constants.FONTS.body3),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 37\n      }\n    }, restaurant == null ? void 0 : restaurant.rating))), _react.default.createElement(_reactNative.Text, {\n      style: _objectSpread({\n        color: _constants.COLORS.darkgray\n      }, _constants.FONTS.body4),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 29\n      }\n    }, restaurant == null ? void 0 : restaurant.name))), _react.default.createElement(_reactNative.View, {\n      style: {\n        flexDirection: 'row',\n        marginTop: _constants.SIZES.padding * 2,\n        justifyContent: 'space-between'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 21\n      }\n    }, _react.default.createElement(_reactNative.TouchableOpacity, {\n      style: {\n        flex: 1,\n        height: 50,\n        marginRight: 10,\n        backgroundColor: _constants.COLORS.primary,\n        alignItems: 'center',\n        justifyContent: 'center',\n        borderRadius: 10\n      },\n      onPress: function onPress() {\n        return navigation.navigate(\"Home\");\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 25\n      }\n    }, _react.default.createElement(_reactNative.Text, {\n      style: _objectSpread(_objectSpread({}, _constants.FONTS.h4), {}, {\n        color: _constants.COLORS.white\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 29\n      }\n    }, \"Call\")), _react.default.createElement(_reactNative.TouchableOpacity, {\n      style: {\n        flex: 1,\n        height: 50,\n        backgroundColor: _constants.COLORS.secondary,\n        alignItems: 'center',\n        justifyContent: 'center',\n        borderRadius: 10\n      },\n      onPress: function onPress() {\n        return navigation.goBack();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 25\n      }\n    }, _react.default.createElement(_reactNative.Text, {\n      style: _objectSpread(_objectSpread({}, _constants.FONTS.h4), {}, {\n        color: _constants.COLORS.white\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 29\n      }\n    }, \"Cancel\")))));\n  }\n\n  function renderButtons() {\n    return _react.default.createElement(_reactNative.View, {\n      style: {\n        position: 'absolute',\n        bottom: _constants.SIZES.height * 0.35,\n        right: _constants.SIZES.padding * 2,\n        width: 60,\n        height: 130,\n        justifyContent: 'space-between'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 13\n      }\n    }, _react.default.createElement(_reactNative.TouchableOpacity, {\n      style: {\n        width: 60,\n        height: 60,\n        borderRadius: 30,\n        backgroundColor: _constants.COLORS.white,\n        alignItems: 'center',\n        justifyContent: 'center'\n      },\n      onPress: function onPress() {\n        return zoomIn();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 17\n      }\n    }, _react.default.createElement(_reactNative.Text, {\n      style: _objectSpread({}, _constants.FONTS.body1),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 21\n      }\n    }, \"+\")), _react.default.createElement(_reactNative.TouchableOpacity, {\n      style: {\n        width: 60,\n        height: 60,\n        borderRadius: 30,\n        backgroundColor: _constants.COLORS.white,\n        alignItems: 'center',\n        justifyContent: 'center'\n      },\n      onPress: function onPress() {\n        return zoomOut();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 17\n      }\n    }, _react.default.createElement(_reactNative.Text, {\n      style: _objectSpread({}, _constants.FONTS.body1),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 21\n      }\n    }, \"-\")));\n  }\n\n  return _react.default.createElement(_reactNative.View, {\n    style: {\n      flex: 1\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 374,\n      columnNumber: 9\n    }\n  }, renderMap(), renderDestinationHeader(), renderDeliveryInfo(), renderButtons());\n};\n\nvar _default = OrderDelivery;\nexports.default = _default;","map":{"version":3,"sources":["C:/Users/Imraj/Desktop/LCRN08-food-delivery-app-master/LCRN08-food-delivery-app-master/screens/OrderDelivery.js"],"names":["OrderDelivery","route","navigation","mapView","React","useRef","useState","restaurant","setRestaurant","streetName","setStreetName","fromLocation","setFromLocation","toLocation","setToLocation","region","setRegion","duration","setDuration","isReady","setIsReady","angle","setAngle","useEffect","params","currentLocation","fromLoc","gps","toLoc","location","street","mapRegion","latitude","longitude","latitudeDelta","Math","abs","longitudeDelta","calculateAngle","coordinates","startLat","startLng","endLat","endLng","dx","dy","atan2","PI","zoomIn","newRegion","current","animateToRegion","zoomOut","renderMap","destinationMarker","height","width","borderRadius","alignItems","justifyContent","backgroundColor","COLORS","white","primary","icons","pin","tintColor","carIcon","x","y","car","flex","PROVIDER_GOOGLE","GOOGLE_API_KEY","result","fitToCoordinates","edgePadding","right","SIZES","bottom","left","top","nextLoc","length","renderDestinationHeader","position","flexDirection","paddingVertical","padding","paddingHorizontal","radius","red_pin","marginRight","FONTS","body3","ceil","renderDeliveryInfo","courier","avatar","marginLeft","h4","name","star","rating","color","darkgray","body4","marginTop","navigate","secondary","goBack","renderButtons","body1"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {\n    View,\n    Text,\n    Image,\n    TouchableOpacity\n} from \"react-native\";\nimport MapView, { PROVIDER_GOOGLE, Marker } from 'react-native-maps';\nimport MapViewDirections from \"react-native-maps-directions\";\n\nimport { COLORS, FONTS, icons, SIZES, GOOGLE_API_KEY } from \"../constants\"\n\nconst OrderDelivery = ({ route, navigation }) => {\n\n    const mapView = React.useRef()\n\n    const [restaurant, setRestaurant] = React.useState(null)\n    const [streetName, setStreetName] = React.useState(\"\")\n    const [fromLocation, setFromLocation] = React.useState(null)\n    const [toLocation, setToLocation] = React.useState(null)\n    const [region, setRegion] = React.useState(null)\n\n    const [duration, setDuration] = React.useState(0)\n    const [isReady, setIsReady] = React.useState(false)\n    const [angle, setAngle] = React.useState(0)\n\n    React.useEffect(() => {\n        let { restaurant, currentLocation } = route.params;\n\n        let fromLoc = currentLocation.gps\n        let toLoc = restaurant.location\n        let street = currentLocation.streetName\n\n        let mapRegion = {\n            latitude: (fromLoc.latitude + toLoc.latitude) / 2,\n            longitude: (fromLoc.longitude + toLoc.longitude) / 2,\n            latitudeDelta: Math.abs(fromLoc.latitude - toLoc.latitude) * 2,\n            longitudeDelta: Math.abs(fromLoc.longitude - toLoc.longitude) * 2\n        }\n\n        setRestaurant(restaurant)\n        setStreetName(street)\n        setFromLocation(fromLoc)\n        setToLocation(toLoc)\n        setRegion(mapRegion)\n\n    }, [])\n\n    function calculateAngle(coordinates) {\n        let startLat = coordinates[0][\"latitude\"]\n        let startLng = coordinates[0][\"longitude\"]\n        let endLat = coordinates[1][\"latitude\"]\n        let endLng = coordinates[1][\"longitude\"]\n        let dx = endLat - startLat\n        let dy = endLng - startLng\n\n        return Math.atan2(dy, dx) * 180 / Math.PI\n    }\n\n    function zoomIn() {\n        let newRegion = {\n            latitude: region.latitude,\n            longitude: region.longitude,\n            latitudeDelta: region.latitudeDelta / 2,\n            longitudeDelta: region.longitudeDelta / 2\n        }\n\n        setRegion(newRegion)\n        mapView.current.animateToRegion(newRegion, 200)\n    }\n\n    function zoomOut() {\n        let newRegion = {\n            latitude: region.latitude,\n            longitude: region.longitude,\n            latitudeDelta: region.latitudeDelta * 2,\n            longitudeDelta: region.longitudeDelta * 2\n        }\n\n        setRegion(newRegion)\n        mapView.current.animateToRegion(newRegion, 200)\n    }\n\n    function renderMap() {\n        const destinationMarker = () => (\n            <Marker\n                coordinate={toLocation}\n            >\n                <View\n                    style={{\n                        height: 40,\n                        width: 40,\n                        borderRadius: 20,\n                        alignItems: 'center',\n                        justifyContent: 'center',\n                        backgroundColor: COLORS.white\n                    }}\n                >\n                    <View\n                        style={{\n                            height: 30,\n                            width: 30,\n                            borderRadius: 15,\n                            alignItems: 'center',\n                            justifyContent: 'center',\n                            backgroundColor: COLORS.primary\n                        }}\n                    >\n                        <Image\n                            source={icons.pin}\n                            style={{\n                                width: 25,\n                                height: 25,\n                                tintColor: COLORS.white\n                            }}\n                        />\n                    </View>\n                </View>\n            </Marker>\n        )\n\n        const carIcon = () => (\n            <Marker\n                coordinate={fromLocation}\n                anchor={{ x: 0.5, y: 0.5 }}\n                flat={true}\n                rotation={angle}\n            >\n                <Image\n                    source={icons.car}\n                    style={{\n                        width: 40,\n                        height: 40\n                    }}\n                />\n            </Marker>\n        )\n\n        return (\n            <View style={{ flex: 1 }}>\n                <MapView\n                    ref={mapView}\n                    provider={PROVIDER_GOOGLE}\n                    initialRegion={region}\n                    style={{ flex: 1 }}\n                >\n                    <MapViewDirections\n                        origin={fromLocation}\n                        destination={toLocation}\n                        apikey={GOOGLE_API_KEY}\n                        strokeWidth={5}\n                        strokeColor={COLORS.primary}\n                        optimizeWaypoints={true}\n                        onReady={result => {\n                            setDuration(result.duration)\n\n                            if (!isReady) {\n                                // Fit route into maps\n                                mapView.current.fitToCoordinates(result.coordinates, {\n                                    edgePadding: {\n                                        right: (SIZES.width / 20),\n                                        bottom: (SIZES.height / 4),\n                                        left: (SIZES.width / 20),\n                                        top: (SIZES.height / 8)\n                                    }\n                                })\n\n                                // Reposition the car\n                                let nextLoc = {\n                                    latitude: result.coordinates[0][\"latitude\"],\n                                    longitude: result.coordinates[0][\"longitude\"]\n                                }\n\n                                if (result.coordinates.length >= 2) {\n                                    let angle = calculateAngle(result.coordinates)\n                                    setAngle(angle)\n                                }\n\n                                setFromLocation(nextLoc)\n                                setIsReady(true)\n                            }\n                        }}\n                    />\n                    {destinationMarker()}\n                    {carIcon()}\n                </MapView>\n            </View>\n        )\n    }\n\n    function renderDestinationHeader() {\n        return (\n            <View\n                style={{\n                    position: 'absolute',\n                    top: 50,\n                    left: 0,\n                    right: 0,\n                    height: 50,\n                    alignItems: 'center',\n                    justifyContent: 'center'\n                }}\n            >\n                <View\n                    style={{\n                        flexDirection: 'row',\n                        alignItems: 'center',\n                        width: SIZES.width * 0.9,\n                        paddingVertical: SIZES.padding,\n                        paddingHorizontal: SIZES.padding * 2,\n                        borderRadius: SIZES.radius,\n                        backgroundColor: COLORS.white\n                    }}\n                >\n                    <Image\n                        source={icons.red_pin}\n                        style={{\n                            width: 30,\n                            height: 30,\n                            marginRight: SIZES.padding\n                        }}\n                    />\n\n                    <View style={{ flex: 1 }}>\n                        <Text style={{ ...FONTS.body3 }}>{streetName}</Text>\n                    </View>\n\n                    <Text style={{ ...FONTS.body3 }}>{Math.ceil(duration)} mins</Text>\n                </View>\n            </View>\n        )\n    }\n\n    function renderDeliveryInfo() {\n        return (\n            <View\n                style={{\n                    position: 'absolute',\n                    bottom: 50,\n                    left: 0,\n                    right: 0,\n                    alignItems: 'center',\n                    justifyContent: 'center'\n                }}\n            >\n                <View\n                    style={{\n                        width: SIZES.width * 0.9,\n                        paddingVertical: SIZES.padding * 3,\n                        paddingHorizontal: SIZES.padding * 2,\n                        borderRadius: SIZES.radius,\n                        backgroundColor: COLORS.white\n                    }}\n                >\n                    <View style={{ flexDirection: 'row', alignItems: 'center' }}>\n                        {/* Avatar */}\n                        <Image\n                            source={restaurant?.courier.avatar}\n                            style={{\n                                width: 50,\n                                height: 50,\n                                borderRadius: 25\n                            }}\n                        />\n\n                        <View style={{ flex: 1, marginLeft: SIZES.padding }}>\n                            {/* Name & Rating */}\n                            <View style={{ flexDirection: 'row', justifyContent: 'space-between' }}>\n                                <Text style={{ ...FONTS.h4 }}>{restaurant?.courier.name}</Text>\n                                <View style={{ flexDirection: 'row' }}>\n                                    <Image\n                                        source={icons.star}\n                                        style={{ width: 18, height: 18, tintColor: COLORS.primary, marginRight: SIZES.padding }}\n                                    />\n                                    <Text style={{ ...FONTS.body3 }}>{restaurant?.rating}</Text>\n                                </View>\n                            </View>\n\n                            {/* Restaurant */}\n                            <Text style={{ color: COLORS.darkgray, ...FONTS.body4 }}>{restaurant?.name}</Text>\n                        </View>\n                    </View>\n\n                    {/* Buttons */}\n                    <View\n                        style={{\n                            flexDirection: 'row',\n                            marginTop: SIZES.padding * 2,\n                            justifyContent: 'space-between'\n                        }}\n                    >\n                        <TouchableOpacity\n                            style={{\n                                flex: 1,\n                                height: 50,\n                                marginRight: 10,\n                                backgroundColor: COLORS.primary,\n                                alignItems: 'center',\n                                justifyContent: 'center',\n                                borderRadius: 10\n                            }}\n                            onPress={() => navigation.navigate(\"Home\")}\n                        >\n                            <Text style={{ ...FONTS.h4, color: COLORS.white }}>Call</Text>\n                        </TouchableOpacity>\n\n                        <TouchableOpacity\n                            style={{\n                                flex: 1,\n                                height: 50,\n                                backgroundColor: COLORS.secondary,\n                                alignItems: 'center',\n                                justifyContent: 'center',\n                                borderRadius: 10\n                            }}\n                            onPress={() => navigation.goBack()}\n                        >\n                            <Text style={{ ...FONTS.h4, color: COLORS.white }}>Cancel</Text>\n                        </TouchableOpacity>\n                    </View>\n\n                </View>\n            </View>\n        )\n    }\n\n    function renderButtons() {\n        return (\n            <View\n                style={{\n                    position: 'absolute',\n                    bottom: SIZES.height * 0.35,\n                    right: SIZES.padding * 2,\n                    width: 60,\n                    height: 130,\n                    justifyContent: 'space-between'\n                }}\n            >\n                {/* Zoom In */}\n                <TouchableOpacity\n                    style={{\n                        width: 60,\n                        height: 60,\n                        borderRadius: 30,\n                        backgroundColor: COLORS.white,\n                        alignItems: 'center',\n                        justifyContent: 'center'\n                    }}\n                    onPress={() => zoomIn()}\n                >\n                    <Text style={{ ...FONTS.body1 }}>+</Text>\n                </TouchableOpacity>\n\n                {/* Zoom Out */}\n                <TouchableOpacity\n                    style={{\n                        width: 60,\n                        height: 60,\n                        borderRadius: 30,\n                        backgroundColor: COLORS.white,\n                        alignItems: 'center',\n                        justifyContent: 'center'\n                    }}\n                    onPress={() => zoomOut()}\n                >\n                    <Text style={{ ...FONTS.body1 }}>-</Text>\n                </TouchableOpacity>\n            </View>\n\n        )\n    }\n\n    return (\n        <View style={{ flex: 1 }}>\n            {renderMap()}\n            {renderDestinationHeader()}\n            {renderDeliveryInfo()}\n            {renderButtons()}\n        </View>\n    )\n}\n\nexport default OrderDelivery;"]},"metadata":{},"sourceType":"script"}