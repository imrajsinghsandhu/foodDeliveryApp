{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar _reactNativeIphoneXHelper = require(\"react-native-iphone-x-helper\");\n\nvar _constants = require(\"../constants\");\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\Imraj\\\\Desktop\\\\LCRN08-food-delivery-app-master\\\\LCRN08-food-delivery-app-master\\\\screens\\\\Restaurant.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar Restaurant = function Restaurant(_ref) {\n  var route = _ref.route,\n      navigation = _ref.navigation;\n  var scrollX = new _reactNative.Animated.Value(0);\n\n  var _React$useState = _react.default.useState(null),\n      _React$useState2 = (0, _slicedToArray2.default)(_React$useState, 2),\n      restaurant = _React$useState2[0],\n      setRestaurant = _React$useState2[1];\n\n  var _React$useState3 = _react.default.useState(null),\n      _React$useState4 = (0, _slicedToArray2.default)(_React$useState3, 2),\n      currentLocation = _React$useState4[0],\n      setCurrentLocation = _React$useState4[1];\n\n  var _React$useState5 = _react.default.useState([]),\n      _React$useState6 = (0, _slicedToArray2.default)(_React$useState5, 2),\n      orderItems = _React$useState6[0],\n      setOrderItems = _React$useState6[1];\n\n  _react.default.useEffect(function () {\n    var _route$params = route.params,\n        item = _route$params.item,\n        currentLocation = _route$params.currentLocation;\n    setRestaurant(item);\n    setCurrentLocation(currentLocation);\n  });\n\n  function editOrder(action, menuId, price) {\n    var orderList = orderItems.slice();\n    var item = orderList.filter(function (a) {\n      return a.menuId == menuId;\n    });\n\n    if (action == \"+\") {\n      if (item.length > 0) {\n        var newQty = item[0].qty + 1;\n        item[0].qty = newQty;\n        item[0].total = item[0].qty * price;\n      } else {\n        var newItem = {\n          menuId: menuId,\n          qty: 1,\n          price: price,\n          total: price\n        };\n        orderList.push(newItem);\n      }\n\n      setOrderItems(orderList);\n    } else {\n      if (item.length > 0) {\n        var _item$;\n\n        if (((_item$ = item[0]) == null ? void 0 : _item$.qty) > 0) {\n          var _newQty = item[0].qty - 1;\n\n          item[0].qty = _newQty;\n          item[0].total = _newQty * price;\n        }\n      }\n\n      setOrderItems(orderList);\n    }\n  }\n\n  function getOrderQty(menuId) {\n    var orderItem = orderItems.filter(function (a) {\n      return a.menuId == menuId;\n    });\n\n    if (orderItem.length > 0) {\n      return orderItem[0].qty;\n    }\n\n    return 0;\n  }\n\n  function getBasketItemCount() {\n    var itemCount = orderItems.reduce(function (a, b) {\n      return a + (b.qty || 0);\n    }, 0);\n    return itemCount;\n  }\n\n  function sumOrder() {\n    var total = orderItems.reduce(function (a, b) {\n      return a + (b.total || 0);\n    }, 0);\n    return total.toFixed(2);\n  }\n\n  function renderHeader() {\n    return _react.default.createElement(_reactNative.View, {\n      style: {\n        flexDirection: 'row'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 13\n      }\n    }, _react.default.createElement(_reactNative.TouchableOpacity, {\n      style: {\n        width: 50,\n        paddingLeft: _constants.SIZES.padding * 2,\n        justifyContent: 'center'\n      },\n      onPress: function onPress() {\n        return navigation.goBack();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }\n    }, _react.default.createElement(_reactNative.Image, {\n      source: _constants.icons.back,\n      resizeMode: \"contain\",\n      style: {\n        width: 30,\n        height: 30\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 21\n      }\n    })), _react.default.createElement(_reactNative.View, {\n      style: {\n        flex: 1,\n        alignItems: 'center',\n        justifyContent: 'center'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }\n    }, _react.default.createElement(_reactNative.View, {\n      style: {\n        height: 50,\n        alignItems: 'center',\n        justifyContent: 'center',\n        paddingHorizontal: _constants.SIZES.padding * 3,\n        borderRadius: _constants.SIZES.radius,\n        backgroundColor: _constants.COLORS.lightGray3\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 21\n      }\n    }, _react.default.createElement(_reactNative.Text, {\n      style: _objectSpread({}, _constants.FONTS.h3),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 25\n      }\n    }, restaurant == null ? void 0 : restaurant.name))), _react.default.createElement(_reactNative.TouchableOpacity, {\n      style: {\n        width: 50,\n        paddingRight: _constants.SIZES.padding * 2,\n        justifyContent: 'center'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 17\n      }\n    }, _react.default.createElement(_reactNative.Image, {\n      source: _constants.icons.list,\n      resizeMode: \"contain\",\n      style: {\n        width: 30,\n        height: 30\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 21\n      }\n    })));\n  }\n\n  function renderFoodInfo() {\n    var _this2 = this;\n\n    return _react.default.createElement(_reactNative.Animated.ScrollView, {\n      horizontal: true,\n      pagingEnabled: true,\n      scrollEventThrottle: 16,\n      snapToAlignment: \"center\",\n      showsHorizontalScrollIndicator: false,\n      onScroll: _reactNative.Animated.event([{\n        nativeEvent: {\n          contentOffset: {\n            x: scrollX\n          }\n        }\n      }], {\n        useNativeDriver: false\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 13\n      }\n    }, restaurant == null ? void 0 : restaurant.menu.map(function (item, index) {\n      return _react.default.createElement(_reactNative.View, {\n        key: \"menu-\" + index,\n        style: {\n          alignItems: 'center'\n        },\n        __self: _this2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 25\n        }\n      }, _react.default.createElement(_reactNative.View, {\n        style: {\n          height: _constants.SIZES.height * 0.35\n        },\n        __self: _this2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 29\n        }\n      }, _react.default.createElement(_reactNative.Image, {\n        source: item.photo,\n        resizeMode: \"cover\",\n        style: {\n          width: _constants.SIZES.width,\n          height: \"100%\"\n        },\n        __self: _this2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 33\n        }\n      }), _react.default.createElement(_reactNative.View, {\n        style: {\n          position: 'absolute',\n          bottom: -20,\n          width: _constants.SIZES.width,\n          height: 50,\n          justifyContent: 'center',\n          flexDirection: 'row'\n        },\n        __self: _this2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 33\n        }\n      }, _react.default.createElement(_reactNative.TouchableOpacity, {\n        style: {\n          width: 50,\n          backgroundColor: _constants.COLORS.white,\n          alignItems: 'center',\n          justifyContent: 'center',\n          borderTopLeftRadius: 25,\n          borderBottomLeftRadius: 25\n        },\n        onPress: function onPress() {\n          return editOrder(\"-\", item.menuId, item.price);\n        },\n        __self: _this2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 37\n        }\n      }, _react.default.createElement(_reactNative.Text, {\n        style: _objectSpread({}, _constants.FONTS.body1),\n        __self: _this2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 41\n        }\n      }, \"-\")), _react.default.createElement(_reactNative.View, {\n        style: {\n          width: 50,\n          backgroundColor: _constants.COLORS.white,\n          alignItems: 'center',\n          justifyContent: 'center'\n        },\n        __self: _this2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 37\n        }\n      }, _react.default.createElement(_reactNative.Text, {\n        style: _objectSpread({}, _constants.FONTS.h2),\n        __self: _this2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 41\n        }\n      }, getOrderQty(item.menuId))), _react.default.createElement(_reactNative.TouchableOpacity, {\n        style: {\n          width: 50,\n          backgroundColor: _constants.COLORS.white,\n          alignItems: 'center',\n          justifyContent: 'center',\n          borderTopRightRadius: 25,\n          borderBottomRightRadius: 25\n        },\n        onPress: function onPress() {\n          return editOrder(\"+\", item.menuId, item.price);\n        },\n        __self: _this2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 37\n        }\n      }, _react.default.createElement(_reactNative.Text, {\n        style: _objectSpread({}, _constants.FONTS.body1),\n        __self: _this2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 41\n        }\n      }, \"+\")))), _react.default.createElement(_reactNative.View, {\n        style: {\n          width: _constants.SIZES.width,\n          alignItems: 'center',\n          marginTop: 15,\n          paddingHorizontal: _constants.SIZES.padding * 2\n        },\n        __self: _this2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 29\n        }\n      }, _react.default.createElement(_reactNative.Text, {\n        style: _objectSpread({\n          marginVertical: 10,\n          textAlign: 'center'\n        }, _constants.FONTS.h2),\n        __self: _this2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 33\n        }\n      }, item.name, \" - \", item.price.toFixed(2)), _react.default.createElement(_reactNative.Text, {\n        style: _objectSpread({}, _constants.FONTS.body3),\n        __self: _this2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 33\n        }\n      }, item.description)), _react.default.createElement(_reactNative.View, {\n        style: {\n          flexDirection: 'row',\n          marginTop: 10\n        },\n        __self: _this2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 29\n        }\n      }, _react.default.createElement(_reactNative.Image, {\n        source: _constants.icons.fire,\n        style: {\n          width: 20,\n          height: 20,\n          marginRight: 10\n        },\n        __self: _this2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 33\n        }\n      }), _react.default.createElement(_reactNative.Text, {\n        style: _objectSpread(_objectSpread({}, _constants.FONTS.body3), {}, {\n          color: _constants.COLORS.darygray\n        }),\n        __self: _this2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 33\n        }\n      }, item.calories.toFixed(2), \" cal\")));\n    }));\n  }\n\n  function renderDots() {\n    var _this3 = this;\n\n    var dotPosition = _reactNative.Animated.divide(scrollX, _constants.SIZES.width);\n\n    return _react.default.createElement(_reactNative.View, {\n      style: {\n        height: 30\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 13\n      }\n    }, _react.default.createElement(_reactNative.View, {\n      style: {\n        flexDirection: 'row',\n        alignItems: 'center',\n        justifyContent: 'center',\n        height: _constants.SIZES.padding\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 17\n      }\n    }, restaurant == null ? void 0 : restaurant.menu.map(function (item, index) {\n      var opacity = dotPosition.interpolate({\n        inputRange: [index - 1, index, index + 1],\n        outputRange: [0.3, 1, 0.3],\n        extrapolate: \"clamp\"\n      });\n      var dotSize = dotPosition.interpolate({\n        inputRange: [index - 1, index, index + 1],\n        outputRange: [_constants.SIZES.base * 0.8, 10, _constants.SIZES.base * 0.8],\n        extrapolate: \"clamp\"\n      });\n      var dotColor = dotPosition.interpolate({\n        inputRange: [index - 1, index, index + 1],\n        outputRange: [_constants.COLORS.darkgray, _constants.COLORS.primary, _constants.COLORS.darkgray],\n        extrapolate: \"clamp\"\n      });\n      return _react.default.createElement(_reactNative.Animated.View, {\n        key: \"dot-\" + index,\n        opacity: opacity,\n        style: {\n          borderRadius: _constants.SIZES.radius,\n          marginHorizontal: 6,\n          width: dotSize,\n          height: dotSize,\n          backgroundColor: dotColor\n        },\n        __self: _this3,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 29\n        }\n      });\n    })));\n  }\n\n  function renderOrder() {\n    return _react.default.createElement(_reactNative.View, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 13\n      }\n    }, renderDots(), _react.default.createElement(_reactNative.View, {\n      style: {\n        backgroundColor: _constants.COLORS.white,\n        borderTopLeftRadius: 40,\n        borderTopRightRadius: 40\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 17\n      }\n    }, _react.default.createElement(_reactNative.View, {\n      style: {\n        flexDirection: 'row',\n        justifyContent: 'space-between',\n        paddingVertical: _constants.SIZES.padding * 2,\n        paddingHorizontal: _constants.SIZES.padding * 3,\n        borderBottomColor: _constants.COLORS.lightGray2,\n        borderBottomWidth: 1\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 21\n      }\n    }, _react.default.createElement(_reactNative.Text, {\n      style: _objectSpread({}, _constants.FONTS.h3),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 25\n      }\n    }, getBasketItemCount(), \" items in Cart\"), _react.default.createElement(_reactNative.Text, {\n      style: _objectSpread({}, _constants.FONTS.h3),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 25\n      }\n    }, \"$\", sumOrder())), _react.default.createElement(_reactNative.View, {\n      style: {\n        flexDirection: 'row',\n        justifyContent: 'space-between',\n        paddingVertical: _constants.SIZES.padding * 2,\n        paddingHorizontal: _constants.SIZES.padding * 3\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 21\n      }\n    }, _react.default.createElement(_reactNative.View, {\n      style: {\n        flexDirection: 'row'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 25\n      }\n    }, _react.default.createElement(_reactNative.Image, {\n      source: _constants.icons.pin,\n      resizeMode: \"contain\",\n      style: {\n        width: 20,\n        height: 20,\n        tintColor: _constants.COLORS.darkgray\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 357,\n        columnNumber: 29\n      }\n    }), _react.default.createElement(_reactNative.Text, {\n      style: _objectSpread({\n        marginLeft: _constants.SIZES.padding\n      }, _constants.FONTS.h4),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 29\n      }\n    }, \"Location\")), _react.default.createElement(_reactNative.View, {\n      style: {\n        flexDirection: 'row'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 25\n      }\n    }, _react.default.createElement(_reactNative.Image, {\n      source: _constants.icons.master_card,\n      resizeMode: \"contain\",\n      style: {\n        width: 20,\n        height: 20,\n        tintColor: _constants.COLORS.darkgray\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 29\n      }\n    }), _react.default.createElement(_reactNative.Text, {\n      style: _objectSpread({\n        marginLeft: _constants.SIZES.padding\n      }, _constants.FONTS.h4),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 379,\n        columnNumber: 29\n      }\n    }, \"8888\"))), _react.default.createElement(_reactNative.View, {\n      style: {\n        padding: _constants.SIZES.padding * 2,\n        alignItems: 'center',\n        justifyContent: 'center'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 384,\n        columnNumber: 21\n      }\n    }, _react.default.createElement(_reactNative.TouchableOpacity, {\n      style: {\n        width: _constants.SIZES.width * 0.9,\n        padding: _constants.SIZES.padding,\n        backgroundColor: _constants.COLORS.primary,\n        alignItems: 'center',\n        borderRadius: _constants.SIZES.radius\n      },\n      onPress: function onPress() {\n        return navigation.navigate(\"OrderDelivery\", {\n          restaurant: restaurant,\n          currentLocation: currentLocation\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 391,\n        columnNumber: 25\n      }\n    }, _react.default.createElement(_reactNative.Text, {\n      style: _objectSpread({\n        color: _constants.COLORS.white\n      }, _constants.FONTS.h2),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 404,\n        columnNumber: 29\n      }\n    }, \"Order\")))), (0, _reactNativeIphoneXHelper.isIphoneX)() && _react.default.createElement(_reactNative.View, {\n      style: {\n        position: 'absolute',\n        bottom: -34,\n        left: 0,\n        right: 0,\n        height: 34,\n        backgroundColor: _constants.COLORS.white\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 410,\n        columnNumber: 21\n      }\n    }));\n  }\n\n  return _react.default.createElement(_reactNative.SafeAreaView, {\n    style: styles.container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 427,\n      columnNumber: 9\n    }\n  }, renderHeader(), renderFoodInfo(), renderOrder());\n};\n\nvar styles = _reactNative.StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: _constants.COLORS.lightGray2\n  }\n});\n\nvar _default = Restaurant;\nexports.default = _default;","map":{"version":3,"sources":["C:/Users/Imraj/Desktop/LCRN08-food-delivery-app-master/LCRN08-food-delivery-app-master/screens/Restaurant.js"],"names":["Restaurant","route","navigation","scrollX","Animated","Value","React","useState","restaurant","setRestaurant","currentLocation","setCurrentLocation","orderItems","setOrderItems","useEffect","params","item","editOrder","action","menuId","price","orderList","slice","filter","a","length","newQty","qty","total","newItem","push","getOrderQty","orderItem","getBasketItemCount","itemCount","reduce","b","sumOrder","toFixed","renderHeader","flexDirection","width","paddingLeft","SIZES","padding","justifyContent","goBack","icons","back","height","flex","alignItems","paddingHorizontal","borderRadius","radius","backgroundColor","COLORS","lightGray3","FONTS","h3","name","paddingRight","list","renderFoodInfo","event","nativeEvent","contentOffset","x","useNativeDriver","menu","map","index","photo","position","bottom","white","borderTopLeftRadius","borderBottomLeftRadius","body1","h2","borderTopRightRadius","borderBottomRightRadius","marginTop","marginVertical","textAlign","body3","description","fire","marginRight","color","darygray","calories","renderDots","dotPosition","divide","opacity","interpolate","inputRange","outputRange","extrapolate","dotSize","base","dotColor","darkgray","primary","marginHorizontal","renderOrder","paddingVertical","borderBottomColor","lightGray2","borderBottomWidth","pin","tintColor","marginLeft","h4","master_card","navigate","left","right","styles","container","StyleSheet","create"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {\n    StyleSheet,\n    SafeAreaView,\n    View,\n    Text,\n    TouchableOpacity,\n    Image,\n    Animated\n} from \"react-native\";\nimport { isIphoneX } from 'react-native-iphone-x-helper'\n\nimport { icons, COLORS, SIZES, FONTS } from '../constants'\n\nconst Restaurant = ({ route, navigation }) => {\n\n    const scrollX = new Animated.Value(0);\n    const [restaurant, setRestaurant] = React.useState(null);\n    const [currentLocation, setCurrentLocation] = React.useState(null);\n    const [orderItems, setOrderItems] = React.useState([]);\n\n    React.useEffect(() => {\n        let { item, currentLocation } = route.params;\n\n        setRestaurant(item)\n        setCurrentLocation(currentLocation)\n    })\n\n    function editOrder(action, menuId, price) {\n        let orderList = orderItems.slice()\n        let item = orderList.filter(a => a.menuId == menuId)\n\n        if (action == \"+\") {\n            if (item.length > 0) {\n                let newQty = item[0].qty + 1\n                item[0].qty = newQty\n                item[0].total = item[0].qty * price\n            } else {\n                const newItem = {\n                    menuId: menuId,\n                    qty: 1,\n                    price: price,\n                    total: price\n                }\n                orderList.push(newItem)\n            }\n\n            setOrderItems(orderList)\n        } else {\n            if (item.length > 0) {\n                if (item[0]?.qty > 0) {\n                    let newQty = item[0].qty - 1\n                    item[0].qty = newQty\n                    item[0].total = newQty * price\n                }\n            }\n\n            setOrderItems(orderList)\n        }\n    }\n\n    function getOrderQty(menuId) {\n        let orderItem = orderItems.filter(a => a.menuId == menuId)\n\n        if (orderItem.length > 0) {\n            return orderItem[0].qty\n        }\n\n        return 0\n    }\n\n    function getBasketItemCount() {\n        let itemCount = orderItems.reduce((a, b) => a + (b.qty || 0), 0)\n\n        return itemCount\n    }\n\n    function sumOrder() {\n        let total = orderItems.reduce((a, b) => a + (b.total || 0), 0)\n\n        return total.toFixed(2)\n    }\n\n    function renderHeader() {\n        return (\n            <View style={{ flexDirection: 'row' }}>\n                <TouchableOpacity\n                    style={{\n                        width: 50,\n                        paddingLeft: SIZES.padding * 2,\n                        justifyContent: 'center'\n                    }}\n                    onPress={() => navigation.goBack()}\n                >\n                    <Image\n                        source={icons.back}\n                        resizeMode=\"contain\"\n                        style={{\n                            width: 30,\n                            height: 30\n                        }}\n                    />\n                </TouchableOpacity>\n\n                {/* Restaurant Name Section */}\n                <View\n                    style={{\n                        flex: 1,\n                        alignItems: 'center',\n                        justifyContent: 'center'\n                    }}\n                >\n                    <View\n                        style={{\n                            height: 50,\n                            alignItems: 'center',\n                            justifyContent: 'center',\n                            paddingHorizontal: SIZES.padding * 3,\n                            borderRadius: SIZES.radius,\n                            backgroundColor: COLORS.lightGray3\n                        }}\n                    >\n                        <Text style={{ ...FONTS.h3 }}>{restaurant?.name}</Text>\n                    </View>\n                </View>\n\n                <TouchableOpacity\n                    style={{\n                        width: 50,\n                        paddingRight: SIZES.padding * 2,\n                        justifyContent: 'center'\n                    }}\n                >\n                    <Image\n                        source={icons.list}\n                        resizeMode=\"contain\"\n                        style={{\n                            width: 30,\n                            height: 30\n                        }}\n                    />\n                </TouchableOpacity>\n            </View>\n        )\n    }\n\n    function renderFoodInfo() {\n        return (\n            <Animated.ScrollView\n                horizontal\n                pagingEnabled\n                scrollEventThrottle={16}\n                snapToAlignment=\"center\"\n                showsHorizontalScrollIndicator={false}\n                onScroll={Animated.event([\n                    { nativeEvent: { contentOffset: { x: scrollX } } }\n                ], { useNativeDriver: false })}\n            >\n                {\n                    restaurant?.menu.map((item, index) => (\n                        <View\n                            key={`menu-${index}`}\n                            style={{ alignItems: 'center' }}\n                        >\n                            <View style={{ height: SIZES.height * 0.35 }}>\n                                {/* Food Image */}\n                                <Image\n                                    source={item.photo}\n                                    resizeMode=\"cover\"\n                                    style={{\n                                        width: SIZES.width,\n                                        height: \"100%\"\n                                    }}\n                                />\n\n                                {/* Quantity */}\n                                <View\n                                    style={{\n                                        position: 'absolute',\n                                        bottom: - 20,\n                                        width: SIZES.width,\n                                        height: 50,\n                                        justifyContent: 'center',\n                                        flexDirection: 'row'\n                                    }}\n                                >\n                                    <TouchableOpacity\n                                        style={{\n                                            width: 50,\n                                            backgroundColor: COLORS.white,\n                                            alignItems: 'center',\n                                            justifyContent: 'center',\n                                            borderTopLeftRadius: 25,\n                                            borderBottomLeftRadius: 25\n                                        }}\n                                        onPress={() => editOrder(\"-\", item.menuId, item.price)}\n                                    >\n                                        <Text style={{ ...FONTS.body1 }}>-</Text>\n                                    </TouchableOpacity>\n\n                                    <View\n                                        style={{\n                                            width: 50,\n                                            backgroundColor: COLORS.white,\n                                            alignItems: 'center',\n                                            justifyContent: 'center'\n                                        }}\n                                    >\n                                        <Text style={{ ...FONTS.h2 }}>{getOrderQty(item.menuId)}</Text>\n                                    </View>\n\n                                    <TouchableOpacity\n                                        style={{\n                                            width: 50,\n                                            backgroundColor: COLORS.white,\n                                            alignItems: 'center',\n                                            justifyContent: 'center',\n                                            borderTopRightRadius: 25,\n                                            borderBottomRightRadius: 25\n                                        }}\n                                        onPress={() => editOrder(\"+\", item.menuId, item.price)}\n                                    >\n                                        <Text style={{ ...FONTS.body1 }}>+</Text>\n                                    </TouchableOpacity>\n                                </View>\n                            </View>\n\n                            {/* Name & Description */}\n                            <View\n                                style={{\n                                    width: SIZES.width,\n                                    alignItems: 'center',\n                                    marginTop: 15,\n                                    paddingHorizontal: SIZES.padding * 2\n                                }}\n                            >\n                                <Text style={{ marginVertical: 10, textAlign: 'center', ...FONTS.h2 }}>{item.name} - {item.price.toFixed(2)}</Text>\n                                <Text style={{ ...FONTS.body3 }}>{item.description}</Text>\n                            </View>\n\n                            {/* Calories */}\n                            <View\n                                style={{\n                                    flexDirection: 'row',\n                                    marginTop: 10\n                                }}\n                            >\n                                <Image\n                                    source={icons.fire}\n                                    style={{\n                                        width: 20,\n                                        height: 20,\n                                        marginRight: 10\n                                    }}\n                                />\n\n                                <Text style={{\n                                    ...FONTS.body3, color: COLORS.darygray\n                                }}>{item.calories.toFixed(2)} cal</Text>\n                            </View>\n                        </View>\n                    ))\n                }\n            </Animated.ScrollView>\n        )\n    }\n\n    function renderDots() {\n\n        const dotPosition = Animated.divide(scrollX, SIZES.width)\n\n        return (\n            <View style={{ height: 30 }}>\n                <View\n                    style={{\n                        flexDirection: 'row',\n                        alignItems: 'center',\n                        justifyContent: 'center',\n                        height: SIZES.padding\n                    }}\n                >\n                    {restaurant?.menu.map((item, index) => {\n\n                        const opacity = dotPosition.interpolate({\n                            inputRange: [index - 1, index, index + 1],\n                            outputRange: [0.3, 1, 0.3],\n                            extrapolate: \"clamp\"\n                        })\n\n                        const dotSize = dotPosition.interpolate({\n                            inputRange: [index - 1, index, index + 1],\n                            outputRange: [SIZES.base * 0.8, 10, SIZES.base * 0.8],\n                            extrapolate: \"clamp\"\n                        })\n\n                        const dotColor = dotPosition.interpolate({\n                            inputRange: [index - 1, index, index + 1],\n                            outputRange: [COLORS.darkgray, COLORS.primary, COLORS.darkgray],\n                            extrapolate: \"clamp\"\n                        })\n\n                        return (\n                            <Animated.View\n                                key={`dot-${index}`}\n                                opacity={opacity}\n                                style={{\n                                    borderRadius: SIZES.radius,\n                                    marginHorizontal: 6,\n                                    width: dotSize,\n                                    height: dotSize,\n                                    backgroundColor: dotColor\n                                }}\n                            />\n                        )\n                    })}\n                </View>\n            </View>\n        )\n    }\n\n    function renderOrder() {\n        return (\n            <View>\n                {\n                    renderDots()\n                }\n                <View\n                    style={{\n                        backgroundColor: COLORS.white,\n                        borderTopLeftRadius: 40,\n                        borderTopRightRadius: 40\n                    }}\n                >\n                    <View\n                        style={{\n                            flexDirection: 'row',\n                            justifyContent: 'space-between',\n                            paddingVertical: SIZES.padding * 2,\n                            paddingHorizontal: SIZES.padding * 3,\n                            borderBottomColor: COLORS.lightGray2,\n                            borderBottomWidth: 1\n                        }}\n                    >\n                        <Text style={{ ...FONTS.h3 }}>{getBasketItemCount()} items in Cart</Text>\n                        <Text style={{ ...FONTS.h3 }}>${sumOrder()}</Text>\n                    </View>\n\n                    <View\n                        style={{\n                            flexDirection: 'row',\n                            justifyContent: 'space-between',\n                            paddingVertical: SIZES.padding * 2,\n                            paddingHorizontal: SIZES.padding * 3\n                        }}\n                    >\n                        <View style={{ flexDirection: 'row' }}>\n                            <Image\n                                source={icons.pin}\n                                resizeMode=\"contain\"\n                                style={{\n                                    width: 20,\n                                    height: 20,\n                                    tintColor: COLORS.darkgray\n                                }}\n                            />\n                            <Text style={{ marginLeft: SIZES.padding, ...FONTS.h4 }}>Location</Text>\n                        </View>\n\n                        <View style={{ flexDirection: 'row' }}>\n                            <Image\n                                source={icons.master_card}\n                                resizeMode=\"contain\"\n                                style={{\n                                    width: 20,\n                                    height: 20,\n                                    tintColor: COLORS.darkgray\n                                }}\n                            />\n                            <Text style={{ marginLeft: SIZES.padding, ...FONTS.h4 }}>8888</Text>\n                        </View>\n                    </View>\n\n                    {/* Order Button */}\n                    <View\n                        style={{\n                            padding: SIZES.padding * 2,\n                            alignItems: 'center',\n                            justifyContent: 'center'\n                        }}\n                    >\n                        <TouchableOpacity\n                            style={{\n                                width: SIZES.width * 0.9,\n                                padding: SIZES.padding,\n                                backgroundColor: COLORS.primary,\n                                alignItems: 'center',\n                                borderRadius: SIZES.radius\n                            }}\n                            onPress={() => navigation.navigate(\"OrderDelivery\", {\n                                restaurant: restaurant,\n                                currentLocation: currentLocation\n                            })}\n                        >\n                            <Text style={{ color: COLORS.white, ...FONTS.h2 }}>Order</Text>\n                        </TouchableOpacity>\n                    </View>\n                </View>\n\n                {isIphoneX() &&\n                    <View\n                        style={{\n                            position: 'absolute',\n                            bottom: -34,\n                            left: 0,\n                            right: 0,\n                            height: 34,\n                            backgroundColor: COLORS.white\n                        }}\n                    >\n                    </View>\n                }\n            </View>\n        )\n    }\n\n    return (\n        <SafeAreaView style={styles.container}>\n            {renderHeader()}\n            {renderFoodInfo()}\n            {renderOrder()}\n        </SafeAreaView>\n    )\n}\n\nconst styles = StyleSheet.create({\n    container: {\n        flex: 1,\n        backgroundColor: COLORS.lightGray2\n    }\n})\n\nexport default Restaurant;"]},"metadata":{},"sourceType":"script"}